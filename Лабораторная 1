// Лабораторная работа по теме Массивы 
// Выполнил Параонов Егор Сергеевич ИВТ13-БО
#include <stdio.h>
#include <stdlib.h>
void QuickSort(int* num, int lef, int rig)
{
	int p; // первый элемент
	int l = lef; // левая граница
	int r = rig; // правая граница
	p = num[lef]; // присваиваем первый элемент
	while (lef < rig)
	{
		while ((num[rig] >= p) && (lef < rig))
			rig--; // сдвигаем пока r больше p
		if (lef != rig) // если границы не равны
		{
			num[lef] = num[rig]; // r ставим вместо 
			lef++; // сдвигаем l вправо
		}
		while ((num[lef] <= p) && (lef < rig))
			lef++; // сдвигаем l
		if (lef != rig) // если границы не равны
		{
			num[rig] = num[lef]; // снова меняем местами
			rig--; // сдвигаем r
		}
	}
	num[lef] = p; // возвращаем l 
	p = lef;
	lef = l;
	rig = r;
	if (lef < p) // рекурсия для левой части
		QuickSort(num, lef, p - 1);
	if (rig > p) // рекурсия для правой части
		QuickSort(num, p + 1, rig);
}
int main()
{
	int i, S;
	int *a;
	printf("How many numbers you wont?");
	printf("\n");
	scanf_s("%d", &S); // количество символов в массиве
	a = malloc(sizeof(int)*S); // выделяем память
	printf("Enter %d numbers", S);
	printf("\n");
	for (i = 0; i < S; i++)
		scanf_s("%d", &a[i]); // ввод
	QuickSort(a, 0, S - 1); // сортировка
	for ( i = 0; i < S; i++) // вывод
		printf("%4d ", a[i]);
	free(a);
	return 0;
}
